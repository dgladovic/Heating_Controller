# Heating_Controller

This is a home based hobby project, specially designed for my home heating system. 
Implementation is done on 2 Arduino Nano's. Arduino #1 is used for the main system sequence, and calculations, while Arduino #2 is only used for logging data to SD Card. 

1. Introduction

The main idea was to make a "dumb" combustion boiler smarter, by optimising fuel consumption. Most common problem in heating systems in Serbia is that they are overpowered in regards to heating demands that the systems need, thus a lot of heat is wasted for nothing. 

This specific system consists of a boiler, combustion chamber, mixing valve, pump and 8 Pt100 sensors. The heat demand in rooms is regulated  with thermal compensated radiator vavles. 

Optimal and sufficient heating supply is generated by observing the outside weather conditions, and indoor temperature. Applying the first law of thermodynamics we can calculate the heat needed to keep this temperature difference the same. That heat is actually the heat loss of the system if we just let it cool.

2. The heating curve

To avoid temperature oscilations, we need to raise the temperature slowly, with an aperiodic response characteristic. In regards to outside temperature, we form a heating curve that will set the water temperature that goes to the radiators. By keeping this temperature lower we're increasing the air temperature slowly which will prevent us in going into overshoot.

![This is an image](https://github.com/dgladovic/Heating_Controller/blob/main/Hcurv.png)

While keeping the radiator water temperature lower, we also have to keep in mind that the boiler water temperature needs to be high, so we can maximize the boiler fuel consumption efficiency. That's why we need to have a control algorithm for the mixing valve to keep both temperatures in order. Although, that is physically hard, our main priority is keeping the radiator water temperature in check, while we can be less strict in keeping the bolier temperature in order. 

3. Mixing algorithm

4. Logging, web data

5. Future improvements 

Arduino #2 will be replaced with a NodeMCU, so we can access the data via web. There will be BLE temperature monitors in every room, which data will be collected with an ESP8266 device, that will communicate with NodeMCU and form a voting system to determine whether to turn the bolier on or off. 
